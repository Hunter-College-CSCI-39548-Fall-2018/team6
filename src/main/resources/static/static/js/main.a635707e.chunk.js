(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,a){e.exports=a(253)},134:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){},232:function(e,t,a){},234:function(e,t,a){},240:function(e,t,a){},251:function(e,t,a){},253:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),s=a.n(l),i=a(259),o=a(266),c=a(264),u=(a(134),a(10)),p=a(11),m=a(16),h=a(14),d=a(15),g=(a(136),a(138),a(262)),b=a(113),v=a(115),y=a(108),f=a(20),E=a.n(f),w=a(26),k=a(77),A=a.n(k),j=a(25),x=a.n(j),C=function(){function e(t){Object(u.a)(this,e),this.baseurl="http://localhost:5000",this.domain=t||this.baseurl+"/v1/auth/login",this.forgotpw=this.baseurl+"/v1/auth/forgot",this.resetpw=this.baseurl+"/v1/auth/change-password",this.fetch=this.fetch.bind(this),this.login=this.login.bind(this),this.getProfile=this.getProfile.bind(this)}return Object(p.a)(e,[{key:"login",value:function(){var e=Object(w.a)(E.a.mark(function e(t,a){var n,r,l;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t,password:a},r={headers:{"Content-Type":"application/json"}},e.prev=2,e.next=5,x.a.post(this.domain,n,r);case 5:l=e.sent,console.log(l.data.token),this.setToken(l.data.token),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.response),alert(e.t0.response.data.message);case 14:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t,a){return e.apply(this,arguments)}}()},{key:"forgotPassword",value:function(){var e=Object(w.a)(E.a.mark(function e(t){var a,n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={email:t},n={headers:{"Content-Type":"application/json"}},e.prev=2,e.next=5,x.a.post(this.forgotpw,a,n);case 5:r=e.sent,console.log(r.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0.response),alert(e.t0.response.data.message);case 13:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t){return e.apply(this,arguments)}}()},{key:"resetPassword",value:function(){var e=Object(w.a)(E.a.mark(function e(t,a,n){var r,l,s;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={email:t,resetToken:a,password:n},l={headers:{"Content-Type":"application/json"}},e.prev=2,e.next=5,x.a.post(this.resetpw,r,l);case 5:s=e.sent,console.log(s.data),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0.response),alert(e.t0.response.data.message);case 13:case"end":return e.stop()}},e,this,[[2,9]])}));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return A()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"setToken",value:function(e){localStorage.setItem("id_token",e)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"logout",value:function(){localStorage.removeItem("id_token")}},{key:"getProfile",value:function(){return A()(this.getToken())}},{key:"fetch",value:function(e){function t(t,a){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){var a={Accept:"application/json","Content-Type":"application/json"};return this.loggedIn()&&(a.Authorization="Bearer "+this.getToken()),fetch(e,Object(y.a)({headers:a},t)).then(this._checkStatus).then(function(e){return e.json()})})},{key:"_checkStatus",value:function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}}]),e}(),S=new C,O=function(e){function t(e,a){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e,a))).state={isLoggedIn:n.props.loggedIn},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e;return console.log("Travel auth: "+this.state.isLoggedIn),e=this.state.isLoggedIn?r.a.createElement("div",null,r.a.createElement(g.a.Header,null,r.a.createElement(g.a.Brand,null,r.a.createElement("a",{href:"/home"},"Travel App"),r.a.createElement("img",{src:"http://www.crdfglobal.org/sites/default/files/styles/square/public/capabilities/Travel%20Coordination.png?itok=qeIxjq8h",alt:"logo",style:{width:"20px",height:"20px",marginLeft:"80px",marginTop:"-20px"}}))),r.a.createElement(b.a,null,r.a.createElement(v.a,{eventKey:1,href:"/survey"},"Survey"),r.a.createElement(v.a,{eventKey:2,href:"/history"},"History")),r.a.createElement(b.a,{pullRight:!0},r.a.createElement(v.a,{eventKey:3,href:"/",onClick:this.handleLogout.bind(this)},"Logout"))):r.a.createElement("div",null,r.a.createElement(g.a.Header,null,r.a.createElement(g.a.Brand,null,r.a.createElement("a",{href:"/"},"Travel App"),r.a.createElement("img",{src:"http://www.crdfglobal.org/sites/default/files/styles/square/public/capabilities/Travel%20Coordination.png?itok=qeIxjq8h",alt:"logo",style:{width:"20px",height:"20px",marginLeft:"80px",marginTop:"-20px"}}))),r.a.createElement(b.a,{pullRight:!0},r.a.createElement(v.a,{eventKey:3,href:"/login"},"Login"))," "),r.a.createElement("div",{className:"TravelNav"},r.a.createElement(g.a,null,e))}},{key:"handleLogout",value:function(){S.logout(),this.setState({isLoggedIn:!1}),this.props.history.replace("/")}}]),t}(n.Component),_=a(28),N=a(8),P=(a(205),a(207),a(68),a(117)),L=a(261),I=a(254),T=a(265),R=function(e){function t(e,a){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e,a))).componentWillMount=function(){document.body.classList.add("SurveyBg")},n.componentWillUnmount=function(){},n.state={result:n.props.extResults,test:!1},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginLeft:"5%"}},r.a.createElement(L.a,{className:"Result"},r.a.createElement(L.a.Left,{align:"middle"},r.a.createElement("img",{src:this.state.result.city_img,alt:"City",className:"ResultImg"})),r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Heading,null,this.state.result.city_name,", ",this.state.result.state_name),r.a.createElement(L.a.Left,{align:"middle"},r.a.createElement("p",null,"State: ",this.state.result.state_name," ",r.a.createElement("br",null),"City: ",this.state.result.city_name," ",r.a.createElement("br",null),"Population: ",this.state.result.population," ",r.a.createElement("br",null),"How busy it is: ",this.state.result.busy," ",r.a.createElement("br",null),"High temperature (F): ",this.state.result.high," ",r.a.createElement("br",null),"Low temperature (F): ",this.state.result.low," ",r.a.createElement("br",null))))),r.a.createElement(L.a,null,r.a.createElement(L.a.Body,null,r.a.createElement("p",null,"Annual Precipitation (in):",this.state.result.annual_precipitation," ",r.a.createElement("br",null),"How pricy: ",this.state.result.cost_index,"/4 ",r.a.createElement("br",null),"Average Flight Cost: ",this.state.result.flight_cost," ",r.a.createElement("br",null),"Nearest Airport: ",this.state.result.airport_name,","," ",this.state.result.airport_code," ",r.a.createElement("br",null),"Annual Passengers: ",this.state.result.annual_passengers," ",r.a.createElement("br",null),"Small or big city: ",this.state.result.density,r.a.createElement("br",null))))," ",r.a.createElement("h4",{style:{textAlign:"center"}},r.a.createElement("strong",null,"Most popular via Yelp")),r.a.createElement(I.a,{id:"tabs"},r.a.createElement(T.a,{eventKey:1,title:"Restaurants"},this.forLoopYelp(this.state.result.yelp_restaurants)),r.a.createElement(T.a,{eventKey:2,title:"Tours"},this.forLoopYelp(this.state.result.yelp_tours)),r.a.createElement(T.a,{eventKey:3,title:"Bars"},this.forLoopYelp(this.state.result.yelp_bars)),r.a.createElement(T.a,{eventKey:4,title:"Landmarks"},this.forLoopYelp(this.state.result.yelp_landmarks)),r.a.createElement(T.a,{eventKey:5,title:"Hotels"},this.forLoopYelp(this.state.result.yelp_hotels))))}},{key:"forLoopYelp",value:function(e){for(var t=[],a=0;a<e.length;a++)t.push(r.a.createElement(P.a,{href:e[a].page_url,key:a},r.a.createElement(L.a,null,r.a.createElement(L.a.Left,null,r.a.createElement("img",{src:e[a].image_url,alt:"pic",className:"YelpImg"})),r.a.createElement(L.a.Body,null,r.a.createElement("span",null,r.a.createElement("ul",null,"Name: ",e[a].name),r.a.createElement("ul",null,"Review Count: ",e[a].review_count),r.a.createElement("ul",null,"Review Score: ",e[a].review_score))))));return 0===t.length&&t.push(r.a.createElement("span",{key:0},r.a.createElement("br",null),"There are no corresponding results.")),t}}]),t}(n.Component),F=function(e){function t(e,a){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e,a))).componentWillMount=function(){document.body.classList.add("SurveyBg")},n.componentWillUnmount=function(){},n.state={results:n.props.jsonResults,ext:{flight_cost:500,city_name:"Jersey City",state_name:"New Jersey",airport_name:"Newark Liberty International Airport",airport_code:"EWR",city_img:"https://picsum.photos/200",population:1e6,cost_index:3,high:90,low:50,busy:3,density:5,rank:1,annual_precipitation:14,annual_passengers:6e6,yelp_restaurants:[{image_url:"https://s3-media4.fl.yelpcdn.com/bphoto/qr7eSU6CFwRGZ7Rc-QEoTQ/o.jpg",page_url:"https://www.yelp.com/biz/katzs-delicatessen-new-york?adjust_creative=BpXhmQxwiLhi-ASFk8Yztw&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=BpXhmQxwiLhi-ASFk8Yztw",review_count:10225,review_score:4,name:"Katzs Delicatessen"},{image_url:"https://s3-media4.fl.yelpcdn.com/bphoto/qr7eSU6CFwRGZ7Rc-QEoTQ/o.jpg",page_url:"https://www.yelp.com/biz/katzs-delicatessen-new-york?adjust_creative=BpXhmQxwiLhi-ASFk8Yztw&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=BpXhmQxwiLhi-ASFk8Yztw",review_count:11,review_score:3,name:"#2Katzs Delicatessen"}],yelp_tours:[],yelp_bars:[{image_url:"https://s3-media4.fl.yelpcdn.com/bphoto/qr7eSU6CFwRGZ7Rc-QEoTQ/o.jpg",page_url:"https://www.yelp.com/biz/katzs-delicatessen-new-york?adjust_creative=BpXhmQxwiLhi-ASFk8Yztw&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=BpXhmQxwiLhi-ASFk8Yztw",review_count:10225,review_score:4,name:"Katzs Bar"}],yelp_landmarks:[{image_url:"https://s3-media4.fl.yelpcdn.com/bphoto/qr7eSU6CFwRGZ7Rc-QEoTQ/o.jpg",page_url:"https://www.yelp.com/biz/katzs-delicatessen-new-york?adjust_creative=BpXhmQxwiLhi-ASFk8Yztw&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=BpXhmQxwiLhi-ASFk8Yztw",review_count:10225,review_score:4,name:"Katzs Landmark"}],yelp_hotels:[{image_url:"https://s3-media4.fl.yelpcdn.com/bphoto/qr7eSU6CFwRGZ7Rc-QEoTQ/o.jpg",page_url:"https://www.yelp.com/biz/katzs-delicatessen-new-york?adjust_creative=BpXhmQxwiLhi-ASFk8Yztw&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=BpXhmQxwiLhi-ASFk8Yztw",review_count:10225,review_score:4,name:"Katzs Hotel"}]},redirect:!1},n.getExtendedResults=n.getExtendedResults.bind(Object(N.a)(Object(N.a)(n))),n.loadResult=n.loadResult.bind(Object(N.a)(Object(N.a)(n))),n.successHandler=n.successHandler.bind(Object(N.a)(Object(N.a)(n))),n.Auth=new C,n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.forLoopResults())}},{key:"forLoopResults",value:function(){var e=[r.a.createElement("h3",{key:"h"},"List of destinations ")];if(this.state.redirect)return r.a.createElement(R,{extResults:this.state.ext});for(var t=0;t<this.state.results.length;t++)e.push(r.a.createElement(P.a,{className:"Result",key:t,onClick:this.loadResult.bind(this,t)},r.a.createElement(L.a,null,r.a.createElement(L.a.Left,{align:"middle"},r.a.createElement("img",{src:this.state.results[t].city_img,alt:"City",className:"ResultImg"})),r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Heading,null,this.state.results[t].city_name,","," ",this.state.results[t].state_name),r.a.createElement("p",null,"State: ",this.state.results[t].state_name," ",r.a.createElement("br",null),"City: ",this.state.results[t].city_name," ",r.a.createElement("br",null),"Population: ",this.state.results[t].population," ",r.a.createElement("br",null),"How busy it is: ",this.state.results[t].busy," ",r.a.createElement("br",null),"High temperature (F): ",this.state.results[t].high," ",r.a.createElement("br",null),"Low temperature (F): ",this.state.results[t].low," ",r.a.createElement("br",null))))));return e}},{key:"getExtendedResults",value:function(){var e=Object(w.a)(E.a.mark(function e(t){var a,n=this;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:this.Auth.getToken(),"Content-Type":"application/json"}},e.abrupt("return",x.a.get("http://localhost:5000/v1/city/"+t,a).then(function(e){console.log("Render Response data: "+e.data),n.successHandler(e.data)}).catch(function(e){console.log(e)}));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"successHandler",value:function(e){console.log("***************"),console.log(e),this.setState({ext:e}),console.log("***********"),console.log(this.state.ext)}},{key:"loadResult",value:function(){var e=Object(w.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getExtendedResults(this.state.results[t].city_name);case 2:console.log("Loading result"),this.setState({redirect:!0});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(n.Component),D=a(255),H=a(260),B=a(256),M=function(e){function t(e,a){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e,a))).componentWillMount=function(){document.body.classList.add("SurveyBg")},n.componentWillUnmount=function(){document.body.classList.remove("SurveyBg")},n.handleShow=n.handleShow.bind(Object(N.a)(Object(N.a)(n))),n.getResultsFromSurveyChoices=n.getResultsFromSurveyChoices.bind(Object(N.a)(Object(N.a)(n))),n.successHandler=n.successHandler.bind(Object(N.a)(Object(N.a)(n))),n.handleClose=n.handleClose.bind(Object(N.a)(Object(N.a)(n))),n.Auth=new C,n.state={show:!1,save:n.props.save,survey:n.props.ts,cities:[{city_name:"Baton Rouge",state_name:"Louisiana",city_img:"https://picsum.photos/200",population:226505,cost_index:2,high:81.7,low:50.1,busy:5,density:1017.8673,score:205},{city_name:"Atlanta",state_name:"Georgia",city_img:"https://picsum.photos/200",population:491626,cost_index:2,high:80,low:42.7,busy:1,density:1422.5653,score:204},{city_name:"Miami",state_name:"Florida",city_img:"https://picsum.photos/200",population:479009,cost_index:1,high:83.7,low:68.1,busy:1,density:5139.2676,score:187}]},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Result-list"},r.a.createElement(D.a,{bsStyle:"primary",bsSize:"small",onClick:this.handleShow},"Launch survey results"),r.a.createElement(H.a,{show:this.state.show,onHide:this.handleClose},r.a.createElement(H.a.Header,{closeButton:!1},r.a.createElement(H.a.Title,null,"Travel Survey Results")),r.a.createElement(H.a.Body,null,r.a.createElement(B.a,{className:"List"},r.a.createElement(F,{jsonResults:this.state.cities}))),r.a.createElement(H.a.Footer,null,r.a.createElement(D.a,{onClick:this.handleClose},"Close"))))}},{key:"getResultsFromSurveyChoices",value:function(){var e=Object(w.a)(E.a.mark(function e(){var t,a,n=this;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:this.Auth.getToken(),"Content-Type":"application/json"}},(a=this.state.survey).save=this.props.save,e.abrupt("return",x.a.post("http://localhost:5000/v1/survey",a,t).then(function(e){n.successHandler(e.data)}).catch(function(e){console.log(e)}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"successHandler",value:function(e){this.setState({cities:e}),console.log("+_____+"),console.log(this.state.cities)}},{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){var e=Object(w.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getResultsFromSurveyChoices();case 2:this.setState({show:!0});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component),z=a(58),W=a.n(z),Y=a(127),K=(a(232),[{label:"Albuquerque International Sunport",value:"ABQ"},{label:"Merrill Field",value:"MRI"},{label:"Lake Hood Seaplane Base",value:"LHD"},{label:"Ted Stevens Anchorage International Airport",value:"ANC"},{label:"Hartsfield?Jackson Atlanta International Airport",value:"ATL"},{label:"Austin-Bergstrom International Airport",value:"AUS"},{label:"Meadows Field",value:"BFL"},{label:"Baton Rouge Metropolitan Airport",value:"BTR"},{label:"Gen. Edward Lawrence Logan International Airport",value:"BOS"},{label:"Buffalo Niagara International Airport",value:"BUF"},{label:"Charlotte/Douglas International Airport",value:"CLT"},{label:"Chicago Midway International Airport",value:"MDW"},{label:"Chicago O'Hare International Airport",value:"ORD"},{label:"Cincinnati Municipal Lunken Airport",value:"LUK"},{label:"Cleveland-Hopkins International Airport",value:"CLE"},{label:"City of Colorado Springs Municipal Airport",value:"COS"},{label:"John Glenn Columbus International Airport",value:"CMH"},{label:"Rickenbacker International Airport",value:"LCK"},{label:"Columbus Metropolitan Airport",value:"CSG"},{label:"Dallas Love Field",value:"DAL"},{label:"Denver International Airport",value:"DEN"},{label:"El Paso International Airport",value:"ELP"},{label:"Fort Wayne International Airport",value:"FWA"},{label:"Fresno Yosemite International Airport",value:"FAT"},{label:"Piedmont Triad International Airport",value:"GSO"},{label:"Daniel K. Inouye International Airport",value:"HNL"},{label:"George Bush Intercontinental Airport",value:"IAH"},{label:"William P. Hobby Airport",value:"HOU"},{label:"Indianapolis International Airport",value:"IND"},{label:"Albert J. Ellis Airport",value:"OAJ"},{label:"Jacksonville International Airport",value:"JAX"},{label:"Kansas City International Airport",value:"MCI"},{label:"Laredo International Airport",value:"LRD"},{label:"McCarran International Airport",value:"LAS"},{label:"Lincoln Airport",value:"LNK"},{label:"Long Beach Airport",value:"LGB"},{label:"Los Angeles International Airport",value:"LAX"},{label:"Louisville International Airport",value:"SDF"},{label:"Lubbock Preston Smith International Airport",value:"LBB"},{label:"Dane County Regional Airport",value:"MSN"},{label:"Memphis International Airport",value:"MEM"},{label:"Phoenix Mesa Gateway Airport",value:"IWA"},{label:"Miami International Airport",value:"MIA"},{label:"General Mitchell International Airport",value:"MKE"},{label:"Minneapolis?St. Paul International Airport",value:"MSP"},{label:"Nashville International Airport",value:"BNA"},{label:"Louis Armstrong New Orleans International Airport",value:"MSY"},{label:"LaGuardia Airport",value:"LGA"},{label:"John F. Kennedy International Airport",value:"JFK"},{label:"Newark Liberty International Airport",value:"EWR"},{label:"Norfolk International Airport",value:"ORF"},{label:"Oakland International Airport",value:"OAK"},{label:"Will Rogers World Airport",value:"OKC"},{label:"Eppley Airfield",value:"OMA"},{label:"Orlando International Airport",value:"MCO"},{label:"Philadelphia International Airport",value:"PHL"},{label:"Phoenix Sky Harbor International Airport",value:"PHX"},{label:"Pittsburgh International Airport",value:"PIT"},{label:"Portland International Airport",value:"PDX"},{label:"Portland International Jetport",value:"PWM"},{label:"Raleigh-Durham International Airport",value:"RDU"},{label:"Reno/Tahoe International Airport",value:"RNO"},{label:"Richmond International Airport",value:"RIC"},{label:"Sacramento International Airport",value:"SMF"},{label:"San Antonio International Airport",value:"SAT"},{label:"San Diego International Airport",value:"SAN"},{label:"San Francisco International Airport",value:"SFO"},{label:"Norman Y. Mineta San Jos\xe9 International Airport",value:"SJC"},{label:"John Wayne Airport",value:"SNA"},{label:"King County International Airport",value:"BFI"},{label:"Spokane International Airport",value:"GEG"},{label:"St. Louis Lambert International Airport",value:"STL"},{label:"Stockton Metropolitan Airport",value:"SCK"},{label:"Tampa International Airport",value:"TPA"},{label:"Toledo Express Airport",value:"TOL"},{label:"Tucson International Airport",value:"TUS"},{label:"Tulsa International Airport",value:"TUL"},{label:"Wichita Dwight D. Eisenhower National Airport",value:"IC"}]);function q(e){var t=e.handle,a=t.id,n=(t.value,t.percent),l=e.getHandleProps;return r.a.createElement("div",Object.assign({style:{left:"".concat(n,"%"),position:"absolute",marginLeft:-15,marginTop:25,zIndex:2,width:30,height:30,border:0,textAlign:"center",cursor:"pointer",borderRadius:"50%",backgroundColor:"#2C4870",color:"#fff"}},l(a)))}function G(e){var t=e.source,a=e.target,n=e.getTrackProps;return r.a.createElement("div",Object.assign({style:{position:"absolute",height:10,zIndex:1,marginTop:35,backgroundColor:"#546C91",borderRadius:5,cursor:"pointer",left:"".concat(t.percent,"%"),width:"".concat(a.percent-t.percent,"%")}},n()))}function Q(e){var t=e.tick,a=e.count;return r.a.createElement("div",null,r.a.createElement("div",{style:{position:"absolute",marginTop:52,marginLeft:-.5,width:1,height:8,backgroundColor:"silver",left:"".concat(t.percent,"%")}}),r.a.createElement("div",{style:{position:"absolute",marginTop:60,fontSize:10,textAlign:"center",marginLeft:"".concat(-100/a/2,"%"),width:"".concat(100/a,"%"),left:"".concat(t.percent,"%")}},t.value))}var U={position:"relative",width:"100%",height:80},J={position:"absolute",width:"100%",height:10,marginTop:35,borderRadius:5,backgroundColor:"#8B9CB6"},X=a(19),Z=(a(234),function(e){function t(e,a){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e,a))).handleAirportChange=function(e){n.setState({selectedAirport:e}),console.log("Option selected:",e)},n.handleSubmit=function(e){e.preventDefault();var t=n.checkInput();if(!t)return n.sendRequest();alert(t.errMsg)},n.getPayload=function(){var e=n.state.from,t=e.getMonth()+1+"-"+e.getDate()+"-"+e.getFullYear(),a=n.state.to,r=a.getMonth()+1+"-"+a.getDate()+"-"+a.getFullYear();return{startAirport:n.state.selectedAirport.value?n.state.selectedAirport.value:n.state.selectedAirport,climate:n.state.temperature,population:n.state.population,precipitation:100-n.state.precipitation,busy:n.state.busy,density:n.state.density,expensive:n.state.budget,startDate:t,endDate:r}},n.checkInput=function(){for(var e=[{field:"selectedAirport",errMsg:"Please select an airport"},{field:"temperature",errMsg:"Please select your temperature preference"},{field:"population",errMsg:"Please select city size"},{field:"precipitation",errMsg:"Please select how much you dislike rain"},{field:"density",errMsg:"Please select whether you prefer a quiet or busy city"},{field:"budget",errMsg:"Please select your budget"},{field:"from",errMsg:"Please select travel dates"},{field:"to",errMsg:"Please select travel dates"}],t=0;t<e.length;t++){var a=e[t];if(!n.state[a.field])return a}return null},n.handleDayClick=n.handleDayClick.bind(Object(N.a)(Object(N.a)(n))),n.handleResetClick=n.handleResetClick.bind(Object(N.a)(Object(N.a)(n))),n.handleSliderChange=n.handleSliderChange.bind(Object(N.a)(Object(N.a)(n))),n.Auth=new C,n.state={submit:!1,from:void 0,to:void 0,selectedAirport:null,temperature:20,density:20,budget:20,precipitation:20,population:20,busy:20,bgImages:{temperature:{first:"url(https://i.ibb.co/60Dj2dh/temp-1-cropped.jpg)",second:"url(https://i.ibb.co/9qjpKCw/temp-2-cropped.jpg)",third:"url(https://i.ibb.co/q7zYFDR/temp-3-cropped.jpg)",fourth:"url(https://i.ibb.co/gw2KCVT/temp-4-cropped.jpg)"},density:{first:"url(https://i.ibb.co/LdYSwPn/density-1-cropped.jpg)",second:"url(https://i.ibb.co/YNwKZJW/density-2-cropped.jpg)",third:"url(https://i.ibb.co/jk7002d/density-3-cropped.jpg)",fourth:"url(https://i.ibb.co/LrVF0v8/density-4-cropped.jpg)"},budget:{first:"url(https://i.ibb.co/pw4V53Q/budget-1-cropped.jpg)",second:"url(https://i.ibb.co/DLqHVj4/budget-2-cropped.jpg)",third:"url(https://i.ibb.co/QnYSD73/buget-3-cropped.jpg)",fourth:"url(https://i.ibb.co/C2LRGq5/budget-4-cropped.jpg)"},precipitation:{first:"url(https://i.ibb.co/801XDJT/rain-1-cropped.jpg)",second:"url(https://i.ibb.co/BKzvwNP/rain-2-cropped.jpg)",third:"url(https://i.ibb.co/hDH6Jfz/rain-3-cropped.jpg)",fourth:"url(https://i.ibb.co/F7JG5m7/rain-4-cropped.jpg)"},population:{first:"url(https://i.ibb.co/2c1hgrr/population-1-cropped.jpg)",second:"url(https://i.ibb.co/7ynN6gp/population-2-cropped.jpg)",third:"url(https://i.ibb.co/Y0n8ndf/population-3-cropped.jpg)",fourth:"url(https://i.ibb.co/1bGQcwh/population-4-cropped.jpg)"},busy:{first:"url(https://i.ibb.co/N3w0fGW/popular-1-cropped.jpg)",second:"url(https://i.ibb.co/k1hn88G/popular-2-cropped.jpg)",third:"url(https://i.ibb.co/CHKf8Z7/popular-3-cropped.jpg)",fourth:"url(https://i.ibb.co/HTjHD3X/popular-4-cropped.jpg)"}}},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this,a=this.state,n=a.from,l=a.to,s=this.state.selectedAirport,i={start:n,end:l};if(null==this.checkInput())e=r.a.createElement(M,{ts:this.getPayload(),save:!0});else{var o=this.checkInput().errMsg;e=r.a.createElement("div",{className:"w-full text-center text-2xl text-red font-bold"}," ",o," to continue"," ")}return r.a.createElement("div",{className:"w-full px-12 sm:w-600x sm:px-0  mx-auto mb-32"},r.a.createElement("div",{className:"bg-white pt-8 pb-2 text-center font-bold text-2xl"},"Your Dream Vacation Awaits"),r.a.createElement("p",{className:"text-center mb-8"},"Fill out our survey to get travel trip recommendations."),r.a.createElement("div",{className:"w-full mx-auto"},r.a.createElement("div",{className:"w-full text-center"},r.a.createElement("h4",{className:"py-4"},"Which airport are you closest to?")),r.a.createElement(Y.a,{value:s,onChange:this.handleAirportChange,options:K})),r.a.createElement("div",{className:"py-8"},r.a.createElement("div",{className:"w-full text-center"},r.a.createElement("h4",{className:""},"Dates of Travel")),r.a.createElement("div",{className:"w-full text-center outline-none"},r.a.createElement("p",null,!n&&!l&&"Please select the first day.",n&&!l&&"Please select the last day.",n&&l&&"Selected from ".concat(n.toLocaleDateString()," to\n                ").concat(l.toLocaleDateString())," ",n&&l&&r.a.createElement("button",{className:"link",onClick:this.handleResetClick},"Reset")),r.a.createElement(W.a,{className:"Selectable mx-auto w-full",numberOfMonths:this.props.numberOfMonths,selectedDays:[n,{from:n,to:l}],disabledDays:{before:new Date},modifiers:i,onDayClick:this.handleDayClick}))),r.a.createElement("div",{className:"w-full mx-auto mb-10"},r.a.createElement("div",{className:"w-full h-150px text-white text-center slider flex flex-col",style:{backgroundImage:this.mapBg("temperature")}},r.a.createElement("div",{className:"slider-inside"},r.a.createElement("h4",{className:"w-full"},"What temperature do you prefer?"),r.a.createElement("h5",{className:"w-full"},"(cold to hot)"))),r.a.createElement(X.b,{rootStyle:U,domain:[1,100],step:1,mode:2,values:[20],onChange:function(e){return t.handleSliderChange("temperature",e[0])}},r.a.createElement("div",{style:J}),r.a.createElement(X.a,null,function(e){var t=e.handles,a=e.getHandleProps;return r.a.createElement("div",{className:"slider-handles"},t.map(function(e){return r.a.createElement(q,{key:e.id,handle:e,getHandleProps:a})}))}),r.a.createElement(X.d,{right:!1},function(e){var t=e.tracks,a=e.getTrackProps;return r.a.createElement("div",{className:"slider-tracks"},t.map(function(e){var t=e.id,n=e.source,l=e.target;return r.a.createElement(G,{key:t,source:n,target:l,getTrackProps:a})}))}),r.a.createElement(X.c,{values:[0,25,50,75,100]},function(e){var t=e.ticks;return r.a.createElement("div",{className:"slider-ticks"},t.map(function(e){return r.a.createElement(Q,{key:e.id,tick:e,count:t.length})}))}))),r.a.createElement("div",{className:"mx-auto mb-10"},r.a.createElement("div",{className:"w-full h-150px text-white text-center slider flex flex-col font-bold",style:{backgroundImage:this.mapBg("budget")}},r.a.createElement("div",{className:"slider-inside"},r.a.createElement("h4",{className:"w-full"},"How's your budget?"),r.a.createElement("h5",{className:"w-full"},"(low to high)"))),r.a.createElement(X.b,{rootStyle:U,domain:[1,100],step:1,mode:2,values:[20],onChange:function(e){return t.handleSliderChange("budget",e[0])}},r.a.createElement("div",{style:J}),r.a.createElement(X.a,null,function(e){var t=e.handles,a=e.getHandleProps;return r.a.createElement("div",{className:"slider-handles"},t.map(function(e){return r.a.createElement(q,{key:e.id,handle:e,getHandleProps:a})}))}),r.a.createElement(X.d,{right:!1},function(e){var t=e.tracks,a=e.getTrackProps;return r.a.createElement("div",{className:"slider-tracks"},t.map(function(e){var t=e.id,n=e.source,l=e.target;return r.a.createElement(G,{key:t,source:n,target:l,getTrackProps:a})}))}),r.a.createElement(X.c,{values:[0,25,50,75,100]},function(e){var t=e.ticks;return r.a.createElement("div",{className:"slider-ticks"},t.map(function(e){return r.a.createElement(Q,{key:e.id,tick:e,count:t.length})}))}))),r.a.createElement("div",{className:"mx-auto mb-10"},r.a.createElement("div",{className:"w-full h-150px text-white text-center slider flex flex-col font-bold",style:{backgroundImage:this.mapBg("density")}},r.a.createElement("div",{className:"slider-inside"},r.a.createElement("h4",{className:"w-full"},"Somewhere remote or bustling?"))),r.a.createElement(X.b,{rootStyle:U,domain:[1,100],step:1,mode:2,values:[20],onChange:function(e){return t.handleSliderChange("density",e[0])}},r.a.createElement("div",{style:J}),r.a.createElement(X.a,null,function(e){var t=e.handles,a=e.getHandleProps;return r.a.createElement("div",{className:"slider-handles"},t.map(function(e){return r.a.createElement(q,{key:e.id,handle:e,getHandleProps:a})}))}),r.a.createElement(X.d,{right:!1},function(e){var t=e.tracks,a=e.getTrackProps;return r.a.createElement("div",{className:"slider-tracks"},t.map(function(e){var t=e.id,n=e.source,l=e.target;return r.a.createElement(G,{key:t,source:n,target:l,getTrackProps:a})}))}),r.a.createElement(X.c,{values:[0,25,50,75,100]},function(e){var t=e.ticks;return r.a.createElement("div",{className:"slider-ticks"},t.map(function(e){return r.a.createElement(Q,{key:e.id,tick:e,count:t.length})}))}))),r.a.createElement("div",{className:"mx-auto mb-10"},r.a.createElement("div",{className:"w-full h-150px text-white text-center slider flex flex-col font-bold",style:{backgroundImage:this.mapBg("population")}},r.a.createElement("div",{className:"slider-inside"},r.a.createElement("h4",{className:"text-2xl sm:text-3xl w-full"},"Would you like to visit a small city or large city?"),r.a.createElement("h5",{className:"w-full"},"(low to high)"))),r.a.createElement(X.b,{rootStyle:U,domain:[1,100],step:1,mode:2,values:[20],onChange:function(e){return t.handleSliderChange("population",e[0])}},r.a.createElement("div",{style:J}),r.a.createElement(X.a,null,function(e){var t=e.handles,a=e.getHandleProps;return r.a.createElement("div",{className:"slider-handles"},t.map(function(e){return r.a.createElement(q,{key:e.id,handle:e,getHandleProps:a})}))}),r.a.createElement(X.d,{right:!1},function(e){var t=e.tracks,a=e.getTrackProps;return r.a.createElement("div",{className:"slider-tracks"},t.map(function(e){var t=e.id,n=e.source,l=e.target;return r.a.createElement(G,{key:t,source:n,target:l,getTrackProps:a})}))}),r.a.createElement(X.c,{values:[0,25,50,75,100]},function(e){var t=e.ticks;return r.a.createElement("div",{className:"slider-ticks"},t.map(function(e){return r.a.createElement(Q,{key:e.id,tick:e,count:t.length})}))}))),r.a.createElement("div",{className:"mx-auto mb-8"},r.a.createElement("div",{className:"w-full h-150px text-white text-center slider flex flex-col font-bold",style:{backgroundImage:this.mapBg("precipitation")}},r.a.createElement("div",{className:"slider-inside"},r.a.createElement("h4",{className:"w-full"},"How much do you dislike the rain?"),r.a.createElement("h5",{className:"w-full"},"(enjoy rain to avoid rain at all costs)"))),r.a.createElement(X.b,{rootStyle:U,domain:[1,100],step:1,mode:2,values:[20],onChange:function(e){return t.handleSliderChange("precipitation",e[0])}},r.a.createElement("div",{style:J}),r.a.createElement(X.a,null,function(e){var t=e.handles,a=e.getHandleProps;return r.a.createElement("div",{className:"slider-handles"},t.map(function(e){return r.a.createElement(q,{key:e.id,handle:e,getHandleProps:a})}))}),r.a.createElement(X.d,{right:!1},function(e){var t=e.tracks,a=e.getTrackProps;return r.a.createElement("div",{className:"slider-tracks"},t.map(function(e){var t=e.id,n=e.source,l=e.target;return r.a.createElement(G,{key:t,source:n,target:l,getTrackProps:a})}))}),r.a.createElement(X.c,{values:[0,25,50,75,100]},function(e){var t=e.ticks;return r.a.createElement("div",{className:"slider-ticks"},t.map(function(e){return r.a.createElement(Q,{key:e.id,tick:e,count:t.length})}))}))),r.a.createElement("div",{className:"mx-auto mb-12"},r.a.createElement("div",{className:"w-full h-150px text-white text-center slider flex flex-col font-bold",style:{backgroundImage:this.mapBg("busy")}},r.a.createElement("div",{className:"slider-inside"},r.a.createElement("h4",{className:"w-full"},"City that is less familiar or popular?"),r.a.createElement("h5",{className:"w-full"},"(less familiar to popular)"))),r.a.createElement(X.b,{rootStyle:U,domain:[1,100],step:1,mode:2,values:[20],onChange:function(e){return t.handleSliderChange("busy",e[0])}},r.a.createElement("div",{style:J}),r.a.createElement(X.a,null,function(e){var t=e.handles,a=e.getHandleProps;return r.a.createElement("div",{className:"slider-handles"},t.map(function(e){return r.a.createElement(q,{key:e.id,handle:e,getHandleProps:a})}))}),r.a.createElement(X.d,{right:!1},function(e){var t=e.tracks,a=e.getTrackProps;return r.a.createElement("div",{className:"slider-tracks"},t.map(function(e){var t=e.id,n=e.source,l=e.target;return r.a.createElement(G,{key:t,source:n,target:l,getTrackProps:a})}))}),r.a.createElement(X.c,{values:[0,25,50,75,100]},function(e){var t=e.ticks;return r.a.createElement("div",{className:"slider-ticks"},t.map(function(e){return r.a.createElement(Q,{key:e.id,tick:e,count:t.length})}))}))),e)}},{key:"mapBg",value:function(e){return this.state[e]<26?this.state.bgImages[e].first:this.state[e]<51?this.state.bgImages[e].second:this.state[e]<76?this.state.bgImages[e].third:this.state.bgImages[e].fourth}},{key:"handleDayClick",value:function(e){if(!z.DateUtils.isPastDay(e)){var t=z.DateUtils.addDayToRange(e,this.state);this.setState(t)}}},{key:"handleResetClick",value:function(){this.setState(this.getInitialTravelDateState())}},{key:"handleSliderChange",value:function(e,t){this.setState(Object(_.a)({},e,t))}},{key:"getInitialTravelDateState",value:function(){return{from:void 0,to:void 0}}},{key:"sendRequest",value:function(){var e=Object(w.a)(E.a.mark(function e(){var t,a,n,r,l,s,i;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:5000/v1/survey",t={headers:{Authorization:this.Auth.getToken(),"Content-Type":"application/json"}},a=this.state.from,n=a.getMonth()+1+"-"+a.getDate()+"-"+a.getFullYear(),r=this.state.to,l=r.getMonth()+1+"-"+r.getDate()+"-"+r.getFullYear(),s={startAirport:this.state.selectedAirport.value?this.state.selectedAirport.value:this.state.selectedAirport,climate:this.state.temperature,population:this.state.population,precipitation:100-this.state.precipitation,busy:this.state.busy,density:this.state.density,expensive:this.state.budget,startDate:n,endDate:l},console.log(s),e.prev=8,e.next=11,x.a.post("http://localhost:5000/v1/survey",s,t);case 11:i=e.sent,console.log("****"),console.log(i),i.data.message&&alert(i.data.message),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(8),console.log("####"),console.log(e.t0);case 21:case"end":return e.stop()}},e,this,[[8,17]])}));return function(){return e.apply(this,arguments)}}()}]),t}(n.Component));Z.defaultProps={numberOfMonths:2};var V=Z,$=(a(240),a(112)),ee=a(257),te=a(258),ae=function(e){function t(e,a){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e,a))).componentWillMount=function(){n.getSurveys(),document.body.classList.add("HistoryBg")},n.componentWillUnmount=function(){document.body.classList.remove("HistoryBg")},n.Auth=new C,n.successHandler=n.successHandler.bind(Object(N.a)(Object(N.a)(n))),n.state={surveys:[{climate:1,busy:2,population:20,precipitation:3,density:3,expensive:3,startAirport:"ABC",startDate:"mm-dd-yyyy",endDate:"mm-dd-yyyy",searchDate:"2018-12-04 06:12:12"},{climate:2,busy:1,population:8,precipitation:3,density:3,expensive:1,startAirport:"DEF",startDate:"mm-dd-yyyy",endDate:"mm-dd-yyyy",searchDate:"2018-1-23 06:12:12"},{climate:3,busy:1,population:1,precipitation:1,density:1,expensive:1,startAirport:"GHI",startDate:"mm-dd-yyyy",endDate:"mm-dd-yyyy",searchDate:"2018-2-04 03:12:12"}]},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e;return e=0===this.state.surveys.length?r.a.createElement("h1",{style:{textAlign:"center"}},"There are no results."):r.a.createElement($.a,{className:"History"},r.a.createElement(ee.a,null,r.a.createElement("h3",null,"Survey History"),this.forLoopSurveys())),r.a.createElement("div",null,e)}},{key:"forLoopSurveys",value:function(){for(var e=[],t=0;t<this.state.surveys.length;t++)e.push(r.a.createElement(P.a,{className:"HistoryResult",key:t},r.a.createElement(L.a,null,r.a.createElement(L.a.Body,null,r.a.createElement(L.a.Heading,null,r.a.createElement("strong",null,"Survey choices: ")," "),r.a.createElement(te.a,{xs:4},"Survey Search Date: ",this.state.surveys[t].searchDate," ",r.a.createElement("br",null),"Start Date: ",this.state.surveys[t].startDate," ",r.a.createElement("br",null),"End Date: ",this.state.surveys[t].endDate," ",r.a.createElement("br",null),"Closest airport: ",this.state.surveys[t].startAirport," ",r.a.createElement("br",null),"Budget: ",this.state.surveys[t].expensive," ",r.a.createElement("br",null)),r.a.createElement(te.a,{xs:4},"Population: ",this.state.surveys[t].population," ",r.a.createElement("br",null),"Small or big city: ",this.state.surveys[t].density," ",r.a.createElement("br",null),"How quiet or busy: ",this.state.surveys[t].busy," ",r.a.createElement("br",null),"Preferred Temperature: ",this.state.surveys[t].climate," ",r.a.createElement("br",null),"Preferred Amount of Precipitation:"," ",this.state.surveys[t].precipitation," ",r.a.createElement("br",null)),r.a.createElement(te.a,{xs:4},r.a.createElement("br",null),r.a.createElement(M,{ts:this.state.surveys[t],save:!1}))))));return e}},{key:"getSurveys",value:function(){var e=this,t={headers:{Authorization:this.Auth.getToken(),"Content-Type":"application/json"}};return x.a.get("http://localhost:5000/v1/history",t).then(function(t){console.log("History Response data: "+t.data),e.successHandler(t.data)}).catch(function(e){console.log(e)})}},{key:"successHandler",value:function(e){this.setState({surveys:e}),console.log("+_____+")}}]),t}(n.Component),ne=a(263),re=function(e){function t(e,a){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e,a))).componentWillMount=function(){document.body.classList.add("SurveyBg")},n.componentWillUnmount=function(){document.body.classList.remove("SurveyBg")},n.state={},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return console.log("Auth: "+this.state.isAuthed),r.a.createElement("div",null,r.a.createElement(ne.a,null,r.a.createElement(ne.a.Item,null,r.a.createElement("center",null,r.a.createElement("img",{width:1200,height:600,align:"center",alt:"900x500",className:"carouselPic",src:"https://cdn.newsapi.com.au/image/v1/53cf3216af89accadaa89d355625a1ae?width=1024"})),r.a.createElement(ne.a.Caption,null,r.a.createElement("h2",{style:{fontFamily:"FreeMono, monospace",color:"black",background:"white",opacity:".7"}},"Travel App"),r.a.createElement("p",{style:{fontFamily:"Apple Chancery, cursive",fontSize:"40px",color:"gray",background:"white",opacity:".7"}},"Travel where your heart desires."))),r.a.createElement(ne.a.Item,null,r.a.createElement("center",null,r.a.createElement("img",{width:1200,height:600,alt:"900x500",className:"carouselPic",src:"http://gobatumi.com/files/plan-your-trip/travel-agencies/Paradise-travel.jpg"})),r.a.createElement(ne.a.Caption,null,r.a.createElement("h2",{style:{fontFamily:"FreeMono, monospace",color:"black",background:"white",opacity:".7"}},"Travel App"),r.a.createElement("p",{style:{fontFamily:"Apple Chancery, cursive",fontSize:"40px",color:"gray",background:"white",opacity:".7"}},"Find your best match."))),r.a.createElement(ne.a.Item,null,r.a.createElement("center",null,r.a.createElement("img",{width:1200,height:600,alt:"900x500",className:"carouselPic",src:"https://fm.cnbc.com/applications/cnbc.com/resources/img/editorial/2018/07/05/105312566-1530803740357gettyimages-815863456.1910x1000.jpeg"})),r.a.createElement(ne.a.Caption,null,r.a.createElement("h2",{style:{fontFamily:"FreeMono, monospace",color:"black",background:"white",opacity:".7"}},"Travel App"),r.a.createElement("p",{style:{fontFamily:"Apple Chancery, cursive",fontSize:"40px",color:"gray",background:"white",opacity:".7"}},"Your little slice of paradise.")))))}}]),t}(n.Component);var le=function(e){var t=new C("http://localhost:5000");return function(a){function n(){var e;return Object(u.a)(this,n),(e=Object(m.a)(this,Object(h.a)(n).call(this))).state={user:null},e}return Object(d.a)(n,a),Object(p.a)(n,[{key:"componentWillMount",value:function(){if(t.loggedIn())try{var e=t.getProfile();console.log("Auth profile: "+e),this.setState({user:e})}catch(a){t.logout(),this.props.history.replace("/login")}else this.props.history.replace("/login")}},{key:"render",value:function(){return this.state.user?r.a.createElement(e,{history:this.props.history,user:this.state.user}):null}}]),n}(n.Component)}(function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O,{loggedIn:!0}),r.a.createElement(o.a,null,r.a.createElement(c.a,{exact:!0,path:"/home",component:re}),r.a.createElement(c.a,{exact:!0,path:"/history",component:ae}),r.a.createElement(c.a,{exact:!0,path:"/survey",component:V})))}}]),t}(n.Component)),se=a(36),ie=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={email:"",hasError:!1,sent:!1},a.Auth=new C,a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this;return this.state.hasError&&(e=r.a.createElement("p",{style:{color:"red",fontSize:"15px"}},"Email not found. Try again.")),this.state.sent&&(e=r.a.createElement("p",{style:{fontSize:"15px"}},"An email will be sent soon.")),r.a.createElement("form",{onSubmit:function(e){return t.submit(e)}},r.a.createElement("h3",null,"Password Reset"),r.a.createElement("br",null),r.a.createElement("div",{className:"input-box"},r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",size:"25",required:!0,onChange:function(e){return t.handleChange(e)}}),r.a.createElement("br",null)),r.a.createElement("input",{className:"button",type:"submit",value:"Submit"}),r.a.createElement("br",null),e)}},{key:"handleChange",value:function(e){this.setState(Object(_.a)({},e.target.name,e.target.value))}},{key:"submit",value:function(e){var t=this;e.preventDefault(),this.Auth.forgotPassword(this.state.email).then(function(e){t.setState({sent:!0}),t.props.history.replace("/login")}).catch(function(e){console.log(e),t.setState({hasError:!0})})}}]),t}(n.Component),oe=(a(75),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).state={email:"",password:"",reenterPass:"",hasError:!1},a.handleChange=a.handleChange.bind(Object(N.a)(Object(N.a)(a))),a.submit=a.submit.bind(Object(N.a)(Object(N.a)(a))),a.Auth=new C,a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t,a=this;return!(this.state.password.length<6||this.state.reenterPass.length<6||this.state.password.length>20||this.state.reenterPass.length>20)||!(this.state.password.length>0||this.state.reenterPass.length>0)||this.state.password.length>=6&&this.state.password.length<=20||this.state.reenterPass.length>=6&&this.state.reenterPass.length<=20?this.state.password!==this.state.reenterPass?t=r.a.createElement("div",null,r.a.createElement("input",{className:"button",type:"submit",value:"Register",disabled:!0}),r.a.createElement("p",{style:{color:"red",fontSize:"15px"}},"Passwords do not match")):e=r.a.createElement("input",{className:"button",type:"submit",value:"Register"}):t=r.a.createElement("div",null,r.a.createElement("input",{className:"button",type:"submit",value:"Register",disabled:!0}),r.a.createElement("p",{style:{color:"red",fontSize:"15px"}},"Password must be between 6-20 characters")),r.a.createElement("div",null,r.a.createElement("h3",null," Register "),r.a.createElement("form",{onSubmit:function(e){return a.submit(e)}},r.a.createElement("div",{className:"input-box"},r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",size:"25",required:!0,onChange:function(e){return a.handleChange(e)}}),r.a.createElement("br",null)),r.a.createElement("div",{className:"input-box"},r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",size:"25",required:!0,onChange:function(e){return a.handleChange(e)}}),r.a.createElement("br",null)),r.a.createElement("div",{className:"input-box"},r.a.createElement("input",{type:"password",name:"reenterPass",placeholder:"Re-enter Password",size:"25",required:!0,onChange:function(e){return a.handleChange(e)}}),r.a.createElement("br",null)),e,t,r.a.createElement("br",null)))}},{key:"handleChange",value:function(e){this.setState(Object(_.a)({},e.target.name,e.target.value))}},{key:"submit",value:function(){var e=Object(w.a)(E.a.mark(function e(t){var a,n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),"http://localhost:5000/v1/auth/register",a={email:this.state.email,password:this.state.password},n={headers:{"Content-Type":"application/json"}},e.prev=4,e.next=7,x.a.post("http://localhost:5000/v1/auth/register",a,n);case 7:r=e.sent,console.log(r.data),r.data.success&&alert("Successful reg"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0.response),"Email is already in use!"===e.t0.response.data.message&&alert("Email already in use"),this.setState({hasError:!0});case 17:case"end":return e.stop()}},e,this,[[4,12]])}));return function(t){return e.apply(this,arguments)}}()}]),t}(n.Component)),ce=a(121),ue=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).componentWillMount=function(){a.Auth.loggedIn()&&a.props.history.replace("/home"),document.body.classList.add("LoginBg")},a.componentWillUnmount=function(){document.body.classList.remove("LoginBg")},a.state={email:"",password:"",reenterPass:"",isForgotPassword:!1,hasError:!1},a.handleChange=a.handleChange.bind(Object(N.a)(Object(N.a)(a))),a.submit=a.submit.bind(Object(N.a)(Object(N.a)(a))),a.Auth=new C,a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t=this;return e=this.state.isForgotPassword?r.a.createElement(ie,null):r.a.createElement("div",null,r.a.createElement("h3",null,"Login"),r.a.createElement("form",{onSubmit:function(e){return t.submit(e)}},r.a.createElement("div",{className:"input-box"},r.a.createElement("input",{type:"email",name:"email",placeholder:"Email",size:"25",onChange:function(e){return t.handleChange(e)},required:!0}),r.a.createElement("br",null)),r.a.createElement("div",{className:"input-box"},r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",size:"25",onChange:function(e){return t.handleChange(e)},required:!0}),r.a.createElement("br",null)),r.a.createElement("input",{className:"button",type:"submit",value:"Login"}),r.a.createElement("br",null),r.a.createElement("p",{onClick:function(e){return t.OnClickForgotPassword(e)},className:"Forgot-Password"},"Forgot Password?"))),r.a.createElement("div",{className:"Login"},r.a.createElement("div",{className:"Header"},r.a.createElement(D.a,{style:{position:"absolute",marginLeft:"100px",background:"none",border:"0px"},href:"/"},r.a.createElement(ce.a,{glyph:"glyphicon glyphicon-remove"})),r.a.createElement("h1",null,"Travel App ")),r.a.createElement(se.d,{className:"react-tabs"},r.a.createElement(se.b,null,r.a.createElement(se.a,{onClick:function(e){return t.OnClickShowLogin(e)}}," Login"),r.a.createElement(se.a,null," Register")),r.a.createElement(se.c,null,e),r.a.createElement(se.c,null,r.a.createElement(oe,null))))}},{key:"OnClickForgotPassword",value:function(e){this.setState({isForgotPassword:!this.state.isForgotPassword})}},{key:"OnClickShowLogin",value:function(e){this.setState({isForgotPassword:!1})}},{key:"handleChange",value:function(e){this.setState(Object(_.a)({},e.target.name,e.target.value))}},{key:"submit",value:function(e){var t=this;e.preventDefault(),this.Auth.login(this.state.email,this.state.password).then(function(e){t.props.history.replace("/home")}).catch(function(e){console.log(e),t.setState({hasError:!0})})}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pe=function(e){function t(e,a){var n;return Object(u.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e,a))).componentWillMount=function(){document.body.classList.add("SurveyBg")},n.componentWillUnmount=function(){document.body.classList.remove("SurveyBg")},n.state={},n}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return console.log("Auth: "+this.state.isAuthed),r.a.createElement("div",null,r.a.createElement(O,{loggedIn:!1}),r.a.createElement(ne.a,null,r.a.createElement(ne.a.Item,null,r.a.createElement("center",null,r.a.createElement("img",{width:1200,height:600,align:"center",alt:"900x500",className:"carouselPic",src:"https://cdn.newsapi.com.au/image/v1/53cf3216af89accadaa89d355625a1ae?width=1024"})),r.a.createElement(ne.a.Caption,null,r.a.createElement("h2",{style:{fontFamily:"FreeMono, monospace",color:"black",background:"white",opacity:".7"}},"Travel App"),r.a.createElement("p",{style:{fontFamily:"Apple Chancery, cursive",fontSize:"40px",color:"gray",background:"white",opacity:".7"}},"Travel where your heart desires."))),r.a.createElement(ne.a.Item,null,r.a.createElement("center",null,r.a.createElement("img",{width:1200,height:600,alt:"900x500",className:"carouselPic",src:"http://gobatumi.com/files/plan-your-trip/travel-agencies/Paradise-travel.jpg"})),r.a.createElement(ne.a.Caption,null,r.a.createElement("h2",{style:{fontFamily:"FreeMono, monospace",color:"black",background:"white",opacity:".7"}},"Travel App"),r.a.createElement("p",{style:{fontFamily:"Apple Chancery, cursive",fontSize:"40px",color:"gray",background:"white",opacity:".7"}},"Find your best match."))),r.a.createElement(ne.a.Item,null,r.a.createElement("center",null,r.a.createElement("img",{width:1200,height:600,alt:"900x500",className:"carouselPic",src:"https://fm.cnbc.com/applications/cnbc.com/resources/img/editorial/2018/07/05/105312566-1530803740357gettyimages-815863456.1910x1000.jpeg"})),r.a.createElement(ne.a.Caption,null,r.a.createElement("h2",{style:{fontFamily:"FreeMono, monospace",color:"black",background:"white",opacity:".7"}},"Travel App"),r.a.createElement("p",{style:{fontFamily:"Apple Chancery, cursive",fontSize:"40px",color:"gray",background:"white",opacity:".7"}},"Your little slice of paradise.")))))}}]),t}(n.Component),me=a(124),he=a.n(me),de=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).componentWillMount=function(){var e=he.a.parse(a.props.location.search);console.log("Email: "+e.email),console.log("Token: "+e.token),a.setState({email:e.email,token:e.token}),document.body.classList.add("LoginBg")},a.componentWillUnmount=function(){document.body.classList.remove("LoginBg")},a.state={email:"",password:"",reenterPass:"",token:"",hasError:!1},a.handleChange=a.handleChange.bind(Object(N.a)(Object(N.a)(a))),a.submit=a.submit.bind(Object(N.a)(Object(N.a)(a))),a.Auth=new C,a}return Object(d.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e,t,a=this;return e=this.state.password!==this.state.reenterPass?r.a.createElement("div",null,r.a.createElement("input",{className:"button",type:"submit",value:"Reset Password",disabled:!0}),r.a.createElement("p",{style:{color:"red",fontSize:"15px"}},"Passwords do not match")):r.a.createElement("input",{className:"button",type:"submit",value:"Reset Password"}),this.state.hasError&&(t=r.a.createElement("p",{style:{color:"red",fontSize:"15px"}},"Error in password reset. Try again.")),r.a.createElement("div",{className:"Login"},r.a.createElement("div",{className:"Header"},r.a.createElement("h1",null,"Travel App ")),r.a.createElement("h3",null," Password Reset "),r.a.createElement("form",{onSubmit:function(e){return a.submit(e)}},r.a.createElement("div",{className:"input-box"},r.a.createElement("input",{type:"password",name:"password",placeholder:"Password",size:"25",required:!0,onChange:function(e){return a.handleChange(e)}}),r.a.createElement("br",null)),r.a.createElement("div",{className:"input-box"},r.a.createElement("input",{type:"password",name:"reenterPass",placeholder:"Re-enter Password",size:"25",required:!0,onChange:function(e){return a.handleChange(e)}}),r.a.createElement("br",null)),e,t,r.a.createElement("br",null)))}},{key:"handleChange",value:function(e){this.setState(Object(_.a)({},e.target.name,e.target.value))}},{key:"submit",value:function(e){var t=this;e.preventDefault(),this.Auth.resetPassword(this.state.email,this.state.token,this.state.password).then(function(e){t.props.history.replace("/login")}).catch(function(e){console.log(e),t.setState({hasError:!0})})}}]),t}(n.Component);a(251);s.a.render(r.a.createElement(i.a,null,r.a.createElement(o.a,null,r.a.createElement(c.a,{exact:!0,path:"/",component:pe}),r.a.createElement(c.a,{path:"/change-password",component:de}),r.a.createElement(c.a,{exact:!0,path:"/login",component:ue}),r.a.createElement(c.a,{component:le}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},68:function(e,t,a){},75:function(e,t,a){}},[[129,2,1]]]);
//# sourceMappingURL=main.a635707e.chunk.js.map